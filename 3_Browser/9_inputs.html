<html>
    <!--
            
        ///////////////////////////////
        Exercise Sheet 8: Interactions
        ///////////////////////////////

        The browser environment is ASYNCHRONOUS. If it is all cap, does it mean that I am screaming? Yes. Say it loud: ASYNCHRONOUS.

        From the loading of the HTML, CSS, the scripts...everything is asychronous. Most of all, your mouse clicks are asynchronous.

        To interact with them, you need to stay silent and listen.

        Listen to the sounds of events.
    -->

    <title>Interactions</title>

    <link rel="stylesheet" href="./css/style_interactions.css" />
    <link rel="stylesheet" href="./css/style_inputs.css" />
    </head>

    <body>
        <div id="main">
            <div class="container">
                <div id="below" class="img-container">
                    <a href="https://en.wikipedia.org/wiki/Brendan_Eich" target="_blank">
                        <img data-name="Brendan" src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.welt.de%2Fimg%2Fwirtschaft%2Fwebwelt%2Fmobile126347555%2F0372502857-ci102l-w1024%2FMozilla.jpg&f=1&nofb=1" />
                    </a>

                   
                </div>
            </div>
        </div>
        
        <div id="who" class="container">
            <strong>Write a letter to Brendan</strong>
            <br/> <br/>
                
                <label for="brendan-subject">
                   Select a predefined subject line.
                </label>
                <select id="brendan-subject">
                    <option>You are great!</option>
                    <option>You suck!</option>
                    <option>You are kind of OK</option>
                </select>
                <br/>
                <label for="brendan-text">Dear Brendan,</label>
                <textarea id="brendan-text" ></textarea>
                <br/>

                <label for="brendan-sign">Sign, if you wish.</label>
                <input id="brendan-sign" type="text" />
                <br/>
                
                <input type="submit" value="Submit" id="send" />

        </div>

        

        <div id="diary" class="container" style="display: none;">
           
        </div>


        <script>
              
            const formatMsg = (subject, text, signature) => {
                let out = [ 
                    'Yours', 'Truly', 'So long', 'With deference', 'Adios',
                    'Uf wiederluege'
                ];
                out = out[Math.floor(Math.random()*out.length)];

                let date = new Date().toUTCString();

                signature = signature || 'Anonymous';

                return `<span style="font-size: medium">${date}</span><br><br>
                           <strong>${subject}</strong><br><br>
                           Dear Brendan,<br><br>
                           ${text}<br><br>
                           ${out},<br>
                           ${signature}<br>
                           <hr>
                           <br>`; 
            };

            // Survey about feelings.
            document.getElementById('send').onclick = event => {
                // let q = document.querySelector; 

                let subject = document.querySelector('#brendan-subject').value;
                let text = document.querySelector('#brendan-text').value;
                let signature = document.querySelector('#brendan-sign').value;

                
                let diary = document.querySelector('#diary');
                diary.style.display = '';
                
                let div = document.createElement('div');
                
                div.innerHTML = formatMsg(subject, text, signature);
                diary.appendChild(div);
            }
        </script>


        <!-- 

            Exercise 1. OnClick Listeners.
            //////////////////////////////

            The most commonly used listener, is the onclick listener.
            It waits for a click somewhere on the page, then it fires a function. So all you need to create an event listener is an element and a function.


            https://www.hongkiat.com/blog/websites-creative-mouse-over-effects/
        -->
    </body>

</html>